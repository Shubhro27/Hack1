How to Start a Kafka cluster and do kafka streaming:

1) Start zookeeper for Kafka. 
	a) Open a new terminal and type,
		sudo /opt/kafka_2.11-0.9.0.0/bin/zookeeper-server-start.sh /opt/kafka_2.11-0.9.0.0/config/zookeeper.properties
		In case zookeeper is already running, it will give a "bindException". So kill the process via ps -ef|grep "zoo*" and then kill -9 <PID>
		
	b) Note, this is run via the script which is there in the kafka broker directory set up.
		

2) To start Kafka Broker, 
	a) Open a new terminal and ensure that Zookeper is successfully running after STEP-A 
	b) type the following command,
		sudo /opt/kafka_2.11-0.9.0.0/bin/kafka-server-start.sh /opt/kafka_2.11-0.9.0.0/config/server.properties

--contd

Single node single broker configuration:
1) Ensure Zookeeper and kafka cluster is running.

2) create a Kafka Topic
	sudo /opt/kafka_2.11-0.9.0.0/bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic Hello-Kafka 
	
	NOTE: kafka-topics.sh is a command line utility to create topics on the server.

3) to get list of topics in kafka server
	sudo /opt/kafka_2.11-0.9.0.0/bin/kafka-topics.sh --list --zookeeper localhost:2181

4) Open a new terminal, Start Producer to Send Messages
	sudo /opt/kafka_2.11-0.9.0.0/bin/kafka-console-producer.sh --broker-list localhost:9092 --topic Hello-Kafka
	
	O/p:
	<This hangs the terminal so that we can write streams on the terminal like>
	Hello
	My first message
	
	NOTE: The list of brokers that we want to send the messages to. In this case we only have one broker. 
	      The Config/server.properties file contains broker port id, since we know our broker is listening on port 9092, so you can specify it directly.

	NOTE: to stop the producer running in the terminal, we can hite CNTL + C	  
		  
5) Open a new terminal, Start Consumer to Receive Messages
	sudo /opt/kafka_2.11-0.9.0.0/bin/kafka-console-consumer.sh --zookeeper localhost:2181 --topic Hello-Kafka --from-beginning 
	
	O/p:
	<the stream being written in producer terminal will start appearing in the consumer terminal>
	Hello
	My first message
	
	NOTE: to stop the consumer running in the terminal, we can hite CNTL + C
	
--contd

1) To stop the kafka and Zookeeper terminal, first stop the kafka terminal and then zookeeper, as
	a) sudo /opt/kafka_2.11-0.9.0.0/bin/kafka-server-stop.sh /opt/kafka_2.11-0.9.0.0/config/server.properties
	b) sudo /opt/kafka_2.11-0.9.0.0/bin/zookeeper-server-stop.sh /opt/kafka_2.11-0.9.0.0/config/zookeeper.properties
	
--
PENDING: Single Node-Multiple Brokers Configuration

Basic Topic Operations:
1) Modifying a Topic, 
	SYNTAX: bin/kafka-topics.sh â€”zookeeper localhost:2181 --alter --topic <topic_name> --partitions <count>
	example, bin/kafka-topics.sh --zookeeper localhost:2181 --alter --topic Hello-kafka --partitions 2

2) Deleting a Topic,
	SYNTAX: bin/kafka-topics.sh --zookeeper localhost:2181 --delete --topic <topic_name>
	example,
	bin/kafka-topics.sh --zookeeper localhost:2181 --delete --topic Hello-kafka
	
	NOTE: This delete request will work ONLY IF delete.topic.enable is not set to true.
	
https://acadgild.com/blog/spark-streaming-and-kafka-integration

---------------------------------------------------------------------------------------------------
check: https://acadgild.com/blog/spark-streaming-and-kafka-integration